<body><article id="84ed9377-896d-4138-8352-4e06077f5aa0" class="page sans"><header><h1 class="page-title">유튜브 배치 </h1></header><div class="page-body"><h3 id="66a1e041-81a7-48e0-8715-080010ae0c01" class="">목적</h3><ol type="1" id="1d59e8ab-586a-4697-aeb8-f8c2cd36d58f" class="numbered-list" start="1"><li>Youtube API를 사용하여 영상정보, 재생목록정보, 채널정보를 가져와서 DB에 저장합니다.</li></ol><ol type="1" id="e53bb8cc-732e-48c1-8db2-2d304c9a5199" class="numbered-list" start="2"><li>저장된 데이터는 웹에서 검색 및 조회할때 사용됩니다.</li></ol><ol type="1" id="053e87a1-7c89-4f42-a6ff-2166cd2f8aa3" class="numbered-list" start="3"><li>구글 감정분석을 이용하여 부정적인 댓글이 있는 영상이 있는 재생목록은 제외시켜서<p id="d526488c-5919-4105-b766-3f31c6db3944" class="">가능한한 양질의 영상들을 얻고자 합니다.</p></li></ol><p id="82cce4ce-5500-4d62-86d3-7eb65bad9598" class="">
</p><h3 id="ce2ae8ce-8507-43da-9d1f-f30b7326a4c1" class="">기능</h3><ol type="1" id="82a35eaa-7f60-47fc-9bdd-8fe1a6adaa81" class="numbered-list" start="1"><li>DB에 저장된 키워드를 바탕으로 유튜브의 재생목록을 검색하여 재생목록에 있는 모든 영상들에 정보를 가져옵니다. 재생목록의 채널정보도 같이 가져옵니다.</li></ol><ol type="1" id="94d69b50-fb3f-48e0-92bb-e1ba4c2e9721" class="numbered-list" start="2"><li>유튜브 API의 정해진 할당량 ( 10000 ) 안에서 API 호출이 가능하기 때문에 별도의 설정파일에서 검색 호출 횟수를 지정합니다.</li></ol><ol type="1" id="5c7f8991-6d65-472d-966f-2d90a16b001d" class="numbered-list" start="3"><li>특정 채널에 있는 재생목록은 검색결과에서 제외시키고 DB에 저장 할 수 있습니다.</li></ol><ol type="1" id="6ed1169e-d7af-4e8a-8f2e-3c4de3e96059" class="numbered-list" start="4"><li>감정분석을 적용할때 긍정수치는 설정파일에서 설정가능합니다.</li></ol><p id="55fb4b79-bb51-4400-b2f7-6cc36b3cd726" class="">
</p><ul id="aafd9365-1415-42b8-8394-935b9eecef84" class="bulleted-list"><li style="list-style-type:disc">감정분석 수치 참고 테이블</li></ul><p id="aedf68a1-fc8e-4a10-9025-e01730087ae9" class="">프로그램에 적용된 수치는 <code>&quot;score&quot;</code>  값만 사용하며 설정파일에 설정이 가능합니다.</p><table id="7e497511-38c1-44c4-a47b-371a4cceeea3" class="simple-table"><tbody><tr id="48500057-bc71-4697-a05e-ded152217cbe"><td id="H&gt;MS" class="">감정</td><td id="P^Ij" class="">샘플 값</td></tr><tr id="27fee215-99eb-434c-86ac-86d85f167429"><td id="H&gt;MS" class="">확실히 긍정적*</td><td id="P^Ij" class=""><code>&quot;score&quot;</code>: 0.8, <code>&quot;magnitude&quot;</code>: 3.0</td></tr><tr id="ddddb547-0c70-4bb0-a479-2bb8fbc25f05"><td id="H&gt;MS" class="">확실히 부정적*</td><td id="P^Ij" class=""><code>&quot;score&quot;</code>: -0.6, <code>&quot;magnitude&quot;</code>: 4.0</td></tr><tr id="dfc1de1a-ca83-4a17-ad22-15cb19bd17cf"><td id="H&gt;MS" class="">중립적</td><td id="P^Ij" class=""><code>&quot;score&quot;</code>: 0.1, <code>&quot;magnitude&quot;</code>: 0.0</td></tr><tr id="68db5fff-1747-43d1-aa29-746f54e37a90"><td id="H&gt;MS" class="">혼합</td><td id="P^Ij" class=""><code>&quot;score&quot;</code>: 0.0, <code>&quot;magnitude&quot;</code>: 4.0</td></tr></tbody></table><p id="ce837ba0-b579-48d4-9cba-0519c32cc7d5" class="">
</p><ul id="b71406d7-ba94-47ea-8f8b-8da7358d075e" class="bulleted-list"><li style="list-style-type:disc">설정파일 항목설정 : api-option.properties 파일</li></ul><table id="df881494-73e9-4342-ab62-df9f340c6c33" class="simple-table"><tbody><tr id="e667981f-4d64-441a-9a86-ccda3fcd48f5"><td id="Zl:}" class="" style="width:180.4732208251953px">설정항목 이름</td><td id="tBfu" class="" style="width:599.2678833007812px">설명</td><td id="&lt;dT&lt;" class="">비고</td></tr><tr id="83991ff5-8cfd-4645-83bb-b0c89270945b"><td id="Zl:}" class="" style="width:180.4732208251953px">sentiment.threshold</td><td id="tBfu" class="" style="width:599.2678833007812px">감정분석의 긍정수치입니다. 설정된 수치 이상의 긍정수치를 가진 영상들만 DB에 저장됩니다. 
예) 0.1 →  score 수치가 0.1</td><td id="&lt;dT&lt;" class="">감정분석 수치 참고 테이블</td></tr><tr id="e7c24495-2a0c-4ec9-82cc-1c63abaa2ec1"><td id="Zl:}" class="" style="width:180.4732208251953px">sentiment.comment.count</td><td id="tBfu" class="" style="width:599.2678833007812px">감정분석에 적용할 영상댓글의 갯수, 이 수치가 클수록 <code>&quot;magnitude&quot;</code> 값이 커지게 됩니다.
예) 50 → 50개의 댓글만 분석에 사용</td><td id="&lt;dT&lt;" class=""></td></tr><tr id="ecf52597-3fac-4504-aa1c-c8ba7ec482cb"><td id="Zl:}" class="" style="width:180.4732208251953px">playlist.fetch.size</td><td id="tBfu" class="" style="width:599.2678833007812px">유튜브 API로 한번에 가져올 재생목록의 수
재생목록에 몇개의 영상이 있을지 알기 힘들기 때문에 10000 이라는 할당량을 고려해야 합니다.
예) 10 → 한번에 10개의 재생목록만 검색 </td><td id="&lt;dT&lt;" class="">키워드 1개당 할당량 100,
영상의 정보는 할당량 1</td></tr><tr id="beda23d5-185d-4784-999e-be1ba77d0132"><td id="Zl:}" class="" style="width:180.4732208251953px">search.publish.date</td><td id="tBfu" class="" style="width:599.2678833007812px">설정된 날짜 이후에 등록된 재생목록만 검색합니다.</td><td id="&lt;dT&lt;" class=""></td></tr><tr id="c9059adb-e727-4b81-8da1-2d6ca0a738de"><td id="Zl:}" class="" style="width:180.4732208251953px">exclusive.channels</td><td id="tBfu" class="" style="width:599.2678833007812px">검색에는 포함되지만, DB에 넣기 위한 처리단계에서 배제할 채널의 ID</td><td id="&lt;dT&lt;" class=""></td></tr></tbody></table><table id="bef14574-594b-479e-b517-c306ccf1da49" class="simple-table"><tbody><tr id="4f4ce710-127d-40a8-9e87-b42a48f0b2c3"><td id="Zl:}" class="" style="width:180.4732208251953px">설정항목 이름</td><td id="tBfu" class="" style="width:599.2678833007812px">설명</td><td id="&lt;dT&lt;" class="">비고</td></tr><tr id="061a447b-9bd7-4940-9c61-d4ef54fdbf92"><td id="Zl:}" class="" style="width:180.4732208251953px">sentiment.threshold</td><td id="tBfu" class="" style="width:599.2678833007812px">감정분석의 긍정수치입니다. 설정된 수치 이상의 긍정수치를 가진 영상들만 DB에 저장됩니다. 
예) 0.1 →  score 수치가 0.1</td><td id="&lt;dT&lt;" class="">감정분석 수치 참고 테이블</td></tr><tr id="05933002-2716-4975-9002-28e47c2416c0"><td id="Zl:}" class="" style="width:180.4732208251953px">sentiment.comment.count</td><td id="tBfu" class="" style="width:599.2678833007812px">감정분석에 적용할 영상댓글의 갯수, 이 수치가 클수록 <code>&quot;magnitude&quot;</code> 값이 커지게 됩니다.
예) 50 → 50개의 댓글만 분석에 사용</td><td id="&lt;dT&lt;" class=""></td></tr><tr id="e23dc8b4-1a47-4d92-a54a-0b14dbc8b4ca"><td id="Zl:}" class="" style="width:180.4732208251953px">playlist.fetch.size</td><td id="tBfu" class="" style="width:599.2678833007812px">유튜브 API로 한번에 가져올 재생목록의 수
재생목록에 몇개의 영상이 있을지 알기 힘들기 때문에 10000 이라는 할당량을 고려해야 합니다.
예) 10 → 한번에 10개의 재생목록만 검색 </td><td id="&lt;dT&lt;" class="">키워드 1개당 할당량 100,
영상의 정보는 할당량 1</td></tr><tr id="0ae8c3a1-dbc2-4a9f-91d2-8a60fe7d162d"><td id="Zl:}" class="" style="width:180.4732208251953px">search.publish.date</td><td id="tBfu" class="" style="width:599.2678833007812px">설정된 날짜 이후에 등록된 재생목록만 검색합니다.</td><td id="&lt;dT&lt;" class=""></td></tr><tr id="39abf023-7fc8-4b56-a125-8cf36ab7b518"><td id="Zl:}" class="" style="width:180.4732208251953px">exclusive.channels</td><td id="tBfu" class="" style="width:599.2678833007812px">검색에는 포함되지만, DB에 넣기 위한 처리단계에서 배제할 채널의 ID</td><td id="&lt;dT&lt;" class=""></td></tr></tbody></table><p id="cb3c90bf-0f11-4762-9bae-83470a1e9578" class="">
</p><h3 id="745b0e7b-749d-43b8-95f8-3f04871e2dfe" class="">사용기술</h3><p id="2672f66a-ea07-43cb-8213-a5d57445d921" class="">Spring batch 를 사용하여 구현하였습니다.</p><p id="a1fb58ae-68c8-4c40-a281-3f6f32afcb0c" class="">1 개의 Job, 3개의 Step, 1개의 Tasklet 으로 구성되어 있습니다.</p><p id="bf3712ed-ee52-4191-a7fe-6061472f7a10" class="">
</p></div></article></body></html>
